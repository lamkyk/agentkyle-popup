<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>agentkyle â€“ Resume Q&A (Local)</title>
  <style>
    body { margin: 0; font-family: system-ui, -apple-system; }

    /* Floating launcher button */
    #launcher {
      position: fixed;
      bottom: 24px;
      right: 24px;
      width: 58px;
      height: 58px;
      background: #2563eb;
      color: white;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 22px;
      cursor: pointer;
      box-shadow: 0 3px 10px rgba(0,0,0,0.25);
      z-index: 9999;
    }

    #launcher span {
      font-size: 11px;
      position: absolute;
      top: -16px;
      right: 0;
      background: #111827;
      padding: 2px 6px;
      border-radius: 999px;
      color: #f9fafb;
      font-weight: 500;
      white-space: nowrap;
    }

    /* Chat window */
    #chatWindow {
      position: fixed;
      bottom: 90px;
      right: 24px;
      width: 360px;
      max-width: 95vw;
      height: 460px;
      background: white;
      border-radius: 12px;
      border: 1px solid #e5e7eb;
      box-shadow: 0 5px 20px rgba(0,0,0,0.25);
      display: none;
      flex-direction: column;
      z-index: 9999;
      overflow: hidden;
    }

    #header {
      padding: 10px 12px;
      border-bottom: 1px solid #e5e7eb;
      font-size: 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #111827;
      color: #f9fafb;
    }

    #header-title {
      font-weight: 600;
      font-size: 13px;
    }

    #header-sub {
      font-size: 11px;
      color: #9ca3af;
    }

    #closeBtn {
      cursor: pointer;
      font-size: 18px;
      line-height: 1;
      padding: 0 4px;
    }

    #body {
      flex: 1;
      padding: 10px;
      overflow-y: auto;
      background: #f9fafb;
      font-size: 13px;
    }

    .msg {
      margin-bottom: 10px;
      display: flex;
    }

    .msg.user {
      justify-content: flex-end;
    }

    .msg.ai {
      justify-content: flex-start;
    }

    .bubble {
      max-width: 80%;
      padding: 8px 10px;
      border-radius: 12px;
      white-space: pre-wrap;
      line-height: 1.4;
    }

    .msg.user .bubble {
      background: #2563eb;
      color: white;
      border-bottom-right-radius: 2px;
    }

    .msg.ai .bubble {
      background: white;
      border: 1px solid #e5e7eb;
      border-bottom-left-radius: 2px;
    }

    .meta {
      font-size: 10px;
      color: #6b7280;
      margin-bottom: 6px;
    }

    #inputArea {
      display: flex;
      border-top: 1px solid #e5e7eb;
      background: white;
    }

    #input {
      flex: 1;
      border: none;
      padding: 8px;
      font-size: 13px;
      resize: none;
      height: 48px;
      outline: none;
      font-family: inherit;
    }

    #sendBtn {
      width: 80px;
      background: #2563eb;
      color: white;
      border: none;
      cursor: pointer;
      font-size: 13px;
      font-weight: 500;
    }

    #sendBtn:disabled {
      opacity: 0.6;
      cursor: default;
    }

    #suggestions {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .suggestion-chip {
      font-size: 11px;
      padding: 4px 6px;
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      background: #f3f4f6;
      cursor: pointer;
    }

    .suggestion-chip:hover {
      background: #e5e7eb;
    }

    @media (max-width: 480px) {
      #chatWindow {
        right: 8px;
        bottom: 80px;
        width: calc(100vw - 16px);
        height: 70vh;
      }

      #launcher {
        bottom: 12px;
        right: 12px;
      }
    }
  </style>
</head>
<body>

<div id="launcher">
  ðŸ’¬
  <span>agentkyle</span>
</div>

<div id="chatWindow">
  <div id="header">
    <div>
      <div id="header-title">Interview assistant for Kyle Lam</div>
      <div id="header-sub">Local, resume-based. No external AI calls.</div>
    </div>
    <div id="closeBtn">Ã—</div>
  </div>
  <div id="body"></div>
  <div id="inputArea">
    <textarea id="input" placeholder="Ask about Kyle's experience, skills, impact, or role fit..."></textarea>
    <button id="sendBtn">Send</button>
  </div>
</div>

<script>
  // ------------ Embedded resume knowledge (from your PDF, lightly cleaned) ------------
  const RESUME_FACTS = [
    "Kyle Lam",
    "San Francisco, CA â€“ (415) 218-1163 â€“ lamkyk@gmail.com â€“ linkedin.com/in/kylelam",
    "Results-driven operations and quality management professional with 6+ years in SaaS and B2B2C customer success and 5+ years in systems engineering testing.",
    "Proven expertise in quality program development, strategic planning, process improvement, and analytics.",
    "Extensive experience in structured testing, data analysis, and cross-functional collaboration in the autonomous vehicle industry.",
    "Served some of the world's most recognizable retail brands and largest publicly traded organizations.",
    "EXPERIENCE",
    "WAYMO (via staffing partner) â€“ Mountain View, CA",
    "Sr. Systems Engineering Test Conductor â€“ January 2019â€“November 2025",
    "WAYMO (via staffing agency) â€“ Mountain View, CA",
    "Autonomous Vehicle Instructor / Rider Operational Readiness Testing â€“ February 2018â€“January 2019",
    "NARVAR â€“ San Francisco, CA",
    "Enterprise Customer Success Manager â€“ August 2016â€“February 2017",
    "NASDAQ â€“ San Francisco, CA",
    "Service Account Manager â€“ December 2012â€“August 2016",
    "SAN FRANCISCO STATE UNIVERSITY â€“ San Francisco, CA",
    "Bachelor of Science in Business Administration",
    "Google Project Management Professional Certificate â€“ June 2022",
    "Google Certificate Foundations: Data, Data, Everywhere",
    "SKILLS: JIRA, JQL, SQL, HTML, Looker, Asana, Project Management, Databases, Content Management Systems, Linux, MacOS",
    "Developed and executed quality projects to verify and validate next-gen sensor performance across vehicle platforms.",
    "Led cross-team efforts to complete hundreds of tests, generating 1,000+ scenarios critical in ML / training models to unblock PR deployments and expand ODD.",
    "Analyzed 200+ data logs and 1000+ V&V tests to identify performance gaps and ensure compliance with defined metrics.",
    "Researched hundreds of low reflective samples and created a material reflectance measurements (BSDF) database used to expand benchmark lidar datasets and modeling.",
    "Created JIRA dashboards for forecasting, capacity planning, and burndown tracking, driving 30+% efficiency quarter over quarter.",
    "Collected, analyzed, and presented historical data in quarterly retrospectives to senior Waymo leadership, providing insights on testing metrics and strategic recommendations.",
    "Spearheaded fog (extreme weather) and meteorological optical range (MOR) testing â€“ an industry-first initiative.",
    "Developed SOPs and training materials to standardize testing procedures and ensure high-quality standards across teams.",
    "Collaborated with cross-functional teams and vendors to execute large-scale projects, meeting key deliverables and timelines.",
    "Managed a team of 5 testers and scaled Operational Readiness testing by 10x with quantifiable metrics.",
    "Partnered with Rider Support, UXC teams, Dispatchers, and Program Managers to extract key performance insights, bugs, and optimize workflows.",
    "Developed and authored the first Hailers Operational Testing training program and playbook, enhancing standardization and knowledge transfer.",
    "Led and mentored training cohorts of 5â€“20 vehicle operators, ensuring adherence to safety and operational standards.",
    "Partnered with and supported 30+ enterprise retail brands (~$3MM in revenue) driving consumer engagement and ROI.",
    "Managed setup and deployment of new features such as chatbots, automated reporting, and email alerts.",
    "Oversaw a project that successfully migrated 50+ clients to an enhanced platform.",
    "Retained 100% of my account renewals through strong relationships with key decision makers.",
    "Strategized with C-level, senior leadership, and dev teams to refine solutions, partnerships, and platform upgrades.",
    "Managed relationship and retention for a portfolio of 70 corporate clients (small-cap IPOs to Fortune 500 companies) totaling $2MM+ in recurring revenue.",
    "Compiled and presented Quarterly Business Reviews (QBRs) for key clients, delivering insights on performance metrics and strategic recommendations.",
    "Spearheaded up-sell initiatives, generating ~$65K per quarter in new revenue through consultative advocacy.",
    "Led contract negotiations and SOW development, collaborating with legal and procurement teams.",
    "Provided strategic insights on financial services, website hosting, PR, and compliance solutions."
  ];

  const SUMMARY_FACTS = [
    RESUME_FACTS[2],
    RESUME_FACTS[3],
    RESUME_FACTS[4],
    RESUME_FACTS[19] // skills snapshot
  ];

  const STOPWORDS = new Set([
    "the","and","for","with","that","this","from","into","about","have","has","had","been","over",
    "more","than","role","what","does","did","you","your","his","her","their","how","many","years",
    "tell","me","can","who","where","when","why","are","was","will","would","could","should",
    "does","do","on","in","at","to","of","a","an","as","by","or","it","is","be","based","using"
  ]);

  function buildAnswer(question) {
    const q = (question || "").toLowerCase();
    const tokens = q.split(/[^a-z0-9]+/).filter(w => w && w.length > 2 && !STOPWORDS.has(w));
    if (!tokens.length) {
      return "I can answer questions about Kyle's experience, domains (AV, SaaS, customer success, systems testing), skills, and impact based only on his resume.";
    }

    const scored = RESUME_FACTS.map(f => {
      const lf = f.toLowerCase();
      let score = 0;
      for (const t of tokens) {
        if (lf.includes(t)) score += 1;
      }
      return { fact: f, score };
    }).filter(x => x.score > 0);

    scored.sort((a, b) => b.score - a.score);

    if (!scored.length) {
      return "The resume does not directly mention that. At a high level:\n\nâ€¢ " +
        SUMMARY_FACTS.join("\nâ€¢ ");
    }

    const top = scored.slice(0, 5).map(x => x.fact);
    return "Based on Kyle's resume, relevant points include:\n\nâ€¢ " + top.join("\nâ€¢ ");
  }

  // ------------ Simple chat UI (local-only) ------------

  const launcher = document.getElementById("launcher");
  const chat = document.getElementById("chatWindow");
  const closeBtn = document.getElementById("closeBtn");
  const body = document.getElementById("body");
  const input = document.getElementById("input");
  const sendBtn = document.getElementById("sendBtn");

  launcher.onclick = () => {
    chat.style.display = "flex";
  };

  closeBtn.onclick = () => {
    chat.style.display = "none";
  };

  function addMsg(type, text) {
    const wrapper = document.createElement("div");
    wrapper.className = "msg " + type;
    const bubble = document.createElement("div");
    bubble.className = "bubble";
    bubble.textContent = text;
    wrapper.appendChild(bubble);
    body.appendChild(wrapper);
    body.scrollTop = body.scrollHeight;
  }

  function addMeta(text) {
    const m = document.createElement("div");
    m.className = "meta";
    m.textContent = text;
    body.appendChild(m);
    body.scrollTop = body.scrollHeight;
  }

  function seedWelcome() {
    addMsg("ai", "Hi, I'm a local interview assistant for Kyle Lam.\n\nI answer questions using only the text of his resume, which is embedded directly in this page. There are no external AI calls or APIs involved.");
    addMeta("Ask about experience at Waymo, Narvar, Nasdaq, skills, project leadership, or role fit.");
  }

  async function handleSend(text) {
    const q = text.trim();
    if (!q) return;

    addMsg("user", q);
    input.value = "";

    const answer = buildAnswer(q);
    addMsg("ai", answer);
  }

  sendBtn.onclick = () => handleSend(input.value);

  input.addEventListener("keydown", e => {
    if (e.key === "Enter" && !e.shiftKey) {
      e.preventDefault();
      handleSend(input.value);
    }
  });

  seedWelcome();
</script>

</body>
</html>
